{% load static %}
{% load crispy_forms_tags %}


<html>
<head>
  <meta charset="utf-8">
  <title>RFID Self-Service</title><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS CDN -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

  <!-- Custom CSS -->
  <link rel="stylesheet" type="text/css" href="{% static 'student/style.css' %}">

  <!-- Font Awesome JS -->
  <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
</head>

<body>
  <main>
    <div class="container-fluid">
      <div class="row header">
        <div class="col-sm-6">
          <div class="header-title">
            <h1>Earlham college</h1>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="header-title">
            <h3>RFID Self-Service System</h3>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-2 side-bar">
          <div class="list-group list-group-flush">
            <a href="{% url 'UserHomePage' %}" class="list-group-item side-bar-buttons">
              <h5>Home</h5></a>
            <a href="{% url 'login' %}" class="list-group-item side-bar-buttons">
              <h5>Log In</h5></a>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="search-box">
            <h6>Search for items</h6>
            <form class="form-group" action="user-search" method="get">
              {% csrf_token %}
              {{searchForm.name |as_crispy_field}}
              <button type="submit" class="btn btn-success">Search</button>
            </form>
            {% if message %}
            <div class="message">
              <h6>{{ message }}</h6>
            </div>
            {% endif %}
            <table class="table table-hover">
              {% if qResult %}
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Availability</th>
                    <th>Max Checkout Days</th>
                    <th>Location</th>
                  </tr>
                </thead>
                <tbody>
                  {% for elem in qResult %}
                    <tr>
                      <td>{{ elem.name }}</td>
                      <td>{{ elem.get_availability_display }}</td>
                      <td>{{ elem.max_time }}</td>
                      <td>{{ elem.get_location_display }}</td>
                    </tr>
                  {% endfor %}
                </tbody>
              {% endif %}
            </table>
          </div>
          <div class="col-sm-7">
            <div class="operation-box">
              <h6>Perform a check-in or check-out</h6>
              <form class="form-group" action="user-operation" method="post">
                {% csrf_token %}
                {{checkform | crispy}}
                <button type="submit" class="btn btn-success">Submit</button>
              </form>
            </div>
          </div>
          <div class="col-sm-5">
          </div>
        </div>
        <div class="col-sm-4">
          <div class="search-help border-left">
            <h5>Help:</h5>
            <ul class="list-group">
              <li class="list-group-item list-group-item-action">Search objects by name to see if they are available for checkout</li>
              <li class="list-group-item list-group-item-action">You can check in/out maximum of Five items at once</li>
              <li class="list-group-item list-group-item-action">The reader scans the tags and fills all the fields</li>
              <li class="list-group-item list-group-item-action">If the items are correct, press 'Submit' to complete the operation</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </main>
</body>
</html>
